
\   Klein bottle class definition

PUBLIC:
    REAL size                         \ Scale factor

PUBLIC:

method draw
{
    xpush
        size 2@ 2dup 2dup xscal
        0.132010 -0.312550 0.817450 1 pnt
        0.135200 -0.395530 0.859190 2 pnt
        0.144840 -0.427570 0.999930 3 pnt
        0.149210 -0.395530 1.141780 4 pnt
        0.138240 -0.309040 1.184520 5 pnt
        0.125850 -0.225520 1.125640 6 pnt
        0.125700 -0.197940 1.000050 7 pnt
        0.130530 -0.230520 0.875340 8 pnt
        0.091900 -0.309230 0.806580 9 pnt
        0.111280 -0.399500 0.851700 10 pnt
        0.125280 -0.433760 0.996530 11 pnt
        0.123850 -0.400900 1.144540 12 pnt
        0.100970 -0.307920 1.196350 13 pnt
        0.075940 -0.216840 1.138090 14 pnt
        0.068250 -0.186410 1.004270 15 pnt
        0.075320 -0.220070 0.869390 16 pnt
        -0.003440 -0.309010 0.768200 17 pnt
        0.057390 -0.413200 0.825760 18 pnt
        0.082080 -0.451500 0.989200 19 pnt
        0.066800 -0.417770 1.159230 20 pnt
        0.011460 -0.312610 1.235410 21 pnt
        -0.048120 -0.206550 1.176340 22 pnt
        -0.073930 -0.170390 1.013860 23 pnt
        -0.059900 -0.206000 0.845340 24 pnt
        -0.116740 -0.326210 0.695000 25 pnt
        0.000370 -0.439310 0.776160 26 pnt
        0.040190 -0.480850 0.980990 27 pnt
        0.006570 -0.447270 1.195470 28 pnt
        -0.097110 -0.334730 1.307420 29 pnt
        -0.207830 -0.218250 1.241720 30 pnt
        -0.256800 -0.177230 1.023850 31 pnt
        -0.229550 -0.214190 0.793910 32 pnt
        -0.211480 -0.375070 0.580900 33 pnt
        -0.032980 -0.480540 0.697710 34 pnt
        0.027690 -0.521420 0.974210 35 pnt
        -0.028310 -0.490540 1.262890 36 pnt
        -0.192020 -0.385640 1.418040 37 pnt
        -0.364680 -0.275520 1.335560 38 pnt
        -0.438200 -0.234980 1.028800 39 pnt
        -0.388040 -0.270520 0.705780 40 pnt
        -0.253510 -0.471220 0.435550 41 pnt
        -0.013500 -0.551000 0.592440 42 pnt
        0.074610 -0.584480 0.972390 43 pnt
        -0.005880 -0.560910 1.365610 44 pnt
        -0.237780 -0.481030 1.560480 45 pnt
        -0.478240 -0.396960 1.442830 46 pnt
        -0.574330 -0.364930 1.025410 47 pnt
        -0.493400 -0.392790 0.592950 48 pnt
        -0.250250 -0.589370 0.283110 49 pnt
        0.049450 -0.637100 0.476610 50 pnt
        0.167600 -0.658720 0.975190 51 pnt
        0.064060 -0.645170 1.486910 52 pnt
        -0.238410 -0.597340 1.712750 53 pnt
        -0.547110 -0.546840 1.544040 54 pnt
        -0.662120 -0.527050 1.016670 55 pnt
        -0.549590 -0.543370 0.480150 56 pnt
        -0.228070 -0.681850 0.140560 57 pnt
        0.124910 -0.699920 0.366370 58 pnt
        0.270890 -0.709000 0.979370 59 pnt
        0.147370 -0.704620 1.605200 60 pnt
        -0.220440 -0.686660 1.856270 61 pnt
        -0.591340 -0.667320 1.633870 62 pnt
        -0.721330 -0.659380 1.006460 63 pnt
        -0.579900 -0.665040 0.377220 64 pnt
        -0.213490 -0.700550 0.025320 65 pnt
        0.181920 -0.700550 0.277860 66 pnt
        0.349360 -0.700550 0.981890 67 pnt
        0.209950 -0.700550 1.698890 68 pnt
        -0.210310 -0.700550 1.971920 69 pnt
        -0.630970 -0.700550 1.706970 70 pnt
        -0.772280 -0.700550 0.998600 71 pnt
        -0.607610 -0.700550 0.294010 72 pnt
        -0.232410 -0.585530 0.000000 73 pnt
        0.176670 -0.590630 0.261190 74 pnt
        0.349960 -0.590090 0.982020 75 pnt
        0.206750 -0.587130 1.716930 76 pnt
        -0.231140 -0.585900 2.000000 77 pnt
        -0.669100 -0.584570 1.727120 78 pnt
        -0.813000 -0.581340 0.999240 79 pnt
        -0.640910 -0.580530 0.276020 80 pnt
        -0.264660 -0.357550 0.078140 81 pnt
        0.121130 -0.389620 0.324510 82 pnt
        0.282610 -0.397250 0.981510 83 pnt
        0.150470 -0.385570 1.653950 84 pnt
        -0.262570 -0.365430 1.927920 85 pnt
        -0.677360 -0.343020 1.682940 86 pnt
        -0.812090 -0.325500 1.007460 87 pnt
        -0.650940 -0.327520 0.333630 88 pnt
        -0.267750 -0.089530 0.202850 89 pnt
        0.067940 -0.160300 0.421030 90 pnt
        0.206660 -0.181590 0.980980 91 pnt
        0.093560 -0.157740 1.556930 92 pnt
        -0.265840 -0.104400 1.807990 93 pnt
        -0.628550 -0.046460 1.606370 94 pnt
        -0.745570 -0.011260 1.016410 95 pnt
        -0.605440 -0.022270 0.423900 96 pnt
        -0.199330 0.145770 0.316660 97 pnt
        0.069790 0.034500 0.503930 98 pnt
        0.181330 -0.003690 0.980700 99 pnt
        0.088480 0.034500 1.472820 100 pnt
        -0.202330 0.132060 1.693580 101 pnt
        -0.495490 0.234510 1.529340 102 pnt
        -0.589020 0.283890 1.019070 103 pnt
        -0.472130 0.254520 0.503930 104 pnt
        -0.074970 0.308380 0.386750 105 pnt
        0.116090 0.164770 0.548100 106 pnt
        0.198230 0.108470 0.979400 107 pnt
        0.125160 0.162660 1.425710 108 pnt
        -0.087890 0.306420 1.617840 109 pnt
        -0.299880 0.452330 1.477480 110 pnt
        -0.365520 0.509590 1.014120 111 pnt
        -0.271510 0.453090 0.546820 112 pnt
        0.060300 0.407570 0.431640 113 pnt
        0.166570 0.246950 0.571980 114 pnt
        0.214020 0.175850 0.977010 115 pnt
        0.165100 0.244120 1.397760 116 pnt
        0.037510 0.421510 1.566010 117 pnt
        -0.085720 0.597380 1.442840 118 pnt
        -0.118590 0.656920 1.005060 119 pnt
        -0.052720 0.573400 0.567130 120 pnt
        0.204900 0.444460 0.470100 121 pnt
        0.229390 0.287910 0.594140 122 pnt
        0.238190 0.212100 0.975780 123 pnt
        0.218130 0.285770 1.373020 124 pnt
        0.176130 0.473390 1.519930 125 pnt
        0.140800 0.655990 1.407050 126 pnt
        0.142700 0.709000 0.992490 127 pnt
        0.173600 0.609280 0.584090 128 pnt
        0.357570 0.419690 0.522460 129 pnt
        0.312720 0.294520 0.633120 130 pnt
        0.285420 0.230570 0.978590 131 pnt
        0.294040 0.294520 1.335560 132 pnt
        0.330200 0.458450 1.458200 133 pnt
        0.373460 0.614540 1.351710 134 pnt
        0.403840 0.649400 0.978110 135 pnt
        0.396820 0.554540 0.616970 136 pnt
        0.501910 0.322990 0.578910 137 pnt
        0.416610 0.245140 0.680510 138 pnt
        0.369480 0.200320 0.986730 139 pnt
        0.398960 0.238880 1.295740 140 pnt
        0.487240 0.350770 1.391140 141 pnt
        0.579630 0.456420 1.286220 142 pnt
        0.620950 0.473730 0.962640 143 pnt
        0.584380 0.407370 0.656950 144 pnt
        0.611040 0.169170 0.624360 145 pnt
        0.516430 0.137340 0.719370 146 pnt
        0.467380 0.107560 0.997450 147 pnt
        0.508120 0.114040 1.268410 148 pnt
        0.615680 0.164980 1.337240 149 pnt
        0.721890 0.216840 1.231500 150 pnt
        0.758870 0.226530 0.948020 151 pnt
        0.706520 0.200020 0.687780 152 pnt
        0.668010 -0.003750 0.666790 153 pnt
        0.583300 0.006880 0.755470 154 pnt
        0.542020 -0.008640 1.007440 155 pnt
        0.584990 -0.033060 1.244380 156 pnt
        0.688880 -0.041170 1.291230 157 pnt
        0.786880 -0.040160 1.186420 158 pnt
        0.813000 -0.035370 0.938340 159 pnt
        0.756740 -0.022590 0.717520 160 pnt
        0.655810 -0.157010 0.710360 161 pnt
        0.588360 -0.110510 0.794600 162 pnt
        0.557550 -0.111220 1.013540 163 pnt
        0.593030 -0.155510 1.214450 164 pnt
        0.680710 -0.209950 1.250280 165 pnt
        0.761210 -0.250520 1.149860 166 pnt
        0.777030 -0.253890 0.938960 167 pnt
        0.728510 -0.215520 0.754230 168 pnt
        0.544510 -0.254680 0.750820 169 pnt
        0.494680 -0.184920 0.828630 170 pnt
        0.473200 -0.172410 1.013280 171 pnt
        0.497620 -0.219600 1.182880 172 pnt
        0.563560 -0.299690 1.218950 173 pnt
        0.623870 -0.367160 1.130210 174 pnt
        0.633740 -0.380290 0.952160 175 pnt
        0.598830 -0.335400 0.793480 176 pnt
        0.367690 -0.300080 0.779650 177 pnt
        0.334700 -0.219990 0.848170 178 pnt
        0.321860 -0.196680 1.008640 179 pnt
        0.337830 -0.237750 1.160140 180 pnt
        0.380660 -0.326850 1.202700 181 pnt
        0.419820 -0.408370 1.129480 182 pnt
        0.426180 -0.429580 0.970920 183 pnt
        0.404050 -0.387080 0.824110 184 pnt
        0.203990 -0.312920 0.796970 185 pnt
        0.183590 -0.230320 0.857080 186 pnt
        0.177170 -0.199040 1.003180 187 pnt
        0.187680 -0.232290 1.146400 188 pnt
        0.212260 -0.321250 1.196610 189 pnt
        0.234630 -0.408160 1.136920 190 pnt
        0.239150 -0.435550 0.987640 191 pnt
        0.226670 -0.397990 0.844020 192 pnt
        0.131970 -0.312810 0.802800 193 pnt
        0.116510 -0.230520 0.859190 194 pnt
        0.112670 -0.196020 1.000520 195 pnt
        0.121180 -0.225520 1.141780 196 pnt
        0.138370 -0.312790 1.195650 197 pnt
        0.153880 -0.400530 1.141780 198 pnt
        0.157780 -0.430480 0.994910 199 pnt
        0.149210 -0.395530 0.851120 200 pnt
        raton
        0 1 2 10 9 poly
        0 2 3 11 10 poly
        0 3 4 12 11 poly
        0 4 5 13 12 poly
        0 5 6 14 13 poly
        0 6 7 15 14 poly
        0 7 8 16 15 poly
        0 8 1 9 16 poly
        0 9 10 18 17 poly
        0 10 11 19 18 poly
        0 11 12 20 19 poly
        0 12 13 21 20 poly
        0 13 14 22 21 poly
        0 14 15 23 22 poly
        0 15 16 24 23 poly
        0 16 9 17 24 poly
        0 17 18 26 25 poly
        0 18 19 27 26 poly
        0 19 20 28 27 poly
        0 20 21 29 28 poly
        0 21 22 30 29 poly
        0 22 23 31 30 poly
        0 23 24 32 31 poly
        0 24 17 25 32 poly
        0 25 26 34 33 poly
        0 26 27 35 34 poly
        0 27 28 36 35 poly
        0 28 29 37 36 poly
        0 29 30 38 37 poly
        0 30 31 39 38 poly
        0 31 32 40 39 poly
        0 32 25 33 40 poly
        0 33 34 42 41 poly
        0 34 35 43 42 poly
        0 35 36 44 43 poly
        0 36 37 45 44 poly
        0 37 38 46 45 poly
        0 38 39 47 46 poly
        0 39 40 48 47 poly
        0 40 33 41 48 poly
        0 41 42 50 49 poly
        0 42 43 51 50 poly
        0 43 44 52 51 poly
        0 44 45 53 52 poly
        0 45 46 54 53 poly
        0 46 47 55 54 poly
        0 47 48 56 55 poly
        0 48 41 49 56 poly
        0 49 50 58 57 poly
        0 50 51 59 58 poly
        0 51 52 60 59 poly
        0 52 53 61 60 poly
        0 53 54 62 61 poly
        0 54 55 63 62 poly
        0 55 56 64 63 poly
        0 56 49 57 64 poly
        0 57 58 66 65 poly
        0 58 59 67 66 poly
        0 59 60 68 67 poly
        0 60 61 69 68 poly
        0 61 62 70 69 poly
        0 62 63 71 70 poly
        0 63 64 72 71 poly
        0 64 57 65 72 poly
        0 65 66 74 73 poly
        0 66 67 75 74 poly
        0 67 68 76 75 poly
        0 68 69 77 76 poly
        0 69 70 78 77 poly
        0 70 71 79 78 poly
        0 71 72 80 79 poly
        0 72 65 73 80 poly
        0 73 74 82 81 poly
        0 74 75 83 82 poly
        0 75 76 84 83 poly
        0 76 77 85 84 poly
        0 77 78 86 85 poly
        0 78 79 87 86 poly
        0 79 80 88 87 poly
        0 80 73 81 88 poly
        0 81 82 90 89 poly
        0 82 83 91 90 poly
        0 83 84 92 91 poly
        0 84 85 93 92 poly
        0 85 86 94 93 poly
        0 86 87 95 94 poly
        0 87 88 96 95 poly
        0 88 81 89 96 poly
        0 89 90 98 97 poly
        0 90 91 99 98 poly
        0 91 92 100 99 poly
        0 92 93 101 100 poly
        0 93 94 102 101 poly
        0 94 95 103 102 poly
        0 95 96 104 103 poly
        0 96 89 97 104 poly
        0 97 98 106 105 poly
        0 98 99 107 106 poly
        0 99 100 108 107 poly
        0 100 101 109 108 poly
        0 101 102 110 109 poly
        0 102 103 111 110 poly
        0 103 104 112 111 poly
        0 104 97 105 112 poly
        0 105 106 114 113 poly
        0 106 107 115 114 poly
        0 107 108 116 115 poly
        0 108 109 117 116 poly
        0 109 110 118 117 poly
        0 110 111 119 118 poly
        0 111 112 120 119 poly
        0 112 105 113 120 poly
        0 113 114 122 121 poly
        0 114 115 123 122 poly
        0 115 116 124 123 poly
        0 116 117 125 124 poly
        0 117 118 126 125 poly
        0 118 119 127 126 poly
        0 119 120 128 127 poly
        0 120 113 121 128 poly
        0 121 122 130 129 poly
        0 122 123 131 130 poly
        0 123 124 132 131 poly
        0 124 125 133 132 poly
        0 125 126 134 133 poly
        0 126 127 135 134 poly
        0 127 128 136 135 poly
        0 128 121 129 136 poly
        0 129 130 138 137 poly
        0 130 131 139 138 poly
        0 131 132 140 139 poly
        0 132 133 141 140 poly
        0 133 134 142 141 poly
        0 134 135 143 142 poly
        0 135 136 144 143 poly
        0 136 129 137 144 poly
        0 137 138 146 145 poly
        0 138 139 147 146 poly
        0 139 140 148 147 poly
        0 140 141 149 148 poly
        0 141 142 150 149 poly
        0 142 143 151 150 poly
        0 143 144 152 151 poly
        0 144 137 145 152 poly
        0 145 146 154 153 poly
        0 146 147 155 154 poly
        0 147 148 156 155 poly
        0 148 149 157 156 poly
        0 149 150 158 157 poly
        0 150 151 159 158 poly
        0 151 152 160 159 poly
        0 152 145 153 160 poly
        0 153 154 162 161 poly
        0 154 155 163 162 poly
        0 155 156 164 163 poly
        0 156 157 165 164 poly
        0 157 158 166 165 poly
        0 158 159 167 166 poly
        0 159 160 168 167 poly
        0 160 153 161 168 poly
        0 161 162 170 169 poly
        0 162 163 171 170 poly
        0 163 164 172 171 poly
        0 164 165 173 172 poly
        0 165 166 174 173 poly
        0 166 167 175 174 poly
        0 167 168 176 175 poly
        0 168 161 169 176 poly
        0 169 170 178 177 poly
        0 170 171 179 178 poly
        0 171 172 180 179 poly
        0 172 173 181 180 poly
        0 173 174 182 181 poly
        0 174 175 183 182 poly
        0 175 176 184 183 poly
        0 176 169 177 184 poly
        0 177 178 186 185 poly
        0 178 179 187 186 poly
        0 179 180 188 187 poly
        0 180 181 189 188 poly
        0 181 182 190 189 poly
        0 182 183 191 190 poly
        0 183 184 192 191 poly
        0 184 177 185 192 poly
        0 185 186 194 193 poly
        0 186 187 195 194 poly
        0 187 188 196 195 poly
        0 188 189 197 196 poly
        0 189 190 198 197 poly
        0 190 191 199 198 poly
        0 191 192 200 199 poly
        0 192 185 193 200 poly
        ratoff
    xpop
}

PROTECTED:

2variable dsize 1.0 dsize 2!

method acquire
{
    distance "Size" dsize default arg
        0<> if false return then size 2!
    ( Save last acquisition parameters as defaults for the next )
    size 2@ dsize 2!
    true
}

PUBLIC:

command method grow
{
    1.5 size 2@ f* size 2!
}

command method shrink
{
size 2@ 0.1 f< if return then
    2.0 3.0 f/ size 2@ f* size 2!
}
